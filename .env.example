# ===========================================
# InterHubDev Environment Configuration
# ===========================================
# Copy this file to .env and fill in the values.
# NEVER commit .env to version control!

# ===========================================
# Database Configuration
# ===========================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=interhubdev
DB_USER=interhubdev
DB_PASSWORD=interhubdev

# ===========================================
# JWT Configuration
# ===========================================
# Generate a secure secret key for production!
# Must be at least 32 characters for HS256 algorithm
# Example: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-change-in-production-min-32-chars

# Access token expiration in milliseconds (default: 15 minutes)
JWT_ACCESS_EXPIRATION=900000

# Refresh token expiration in milliseconds (default: 7 days)
JWT_REFRESH_EXPIRATION=604800000

# Cookie security settings
# Set to true in production (requires HTTPS)
JWT_COOKIE_SECURE=false
# Optional: cookie domain (leave empty for current domain)
JWT_COOKIE_DOMAIN=
# Base URL for password reset page (used in reset email body)
JWT_PASSWORD_RESET_BASE_URL=http://localhost:5173

# ===========================================
# Bootstrap SUPER_ADMIN
# ===========================================
# These credentials are used to create the initial SUPER_ADMIN
# on first application startup. Required for the system to function.
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=your-secure-password-min-8-chars
ADMIN_FIRST_NAME=Super
ADMIN_LAST_NAME=Admin

# ===========================================
# Email (SMTP) Configuration
# ===========================================
# For Gmail, use App Password (not your regular password)
# https://support.google.com/accounts/answer/185833
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
# If port 587 is blocked, try port 465 (SSL): set MAIL_PORT=465, MAIL_USE_SSL=true, MAIL_USE_STARTTLS=false
MAIL_USE_SSL=false
MAIL_USE_STARTTLS=true
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password
MAIL_FROM=noreply@interhubdev.com
MAIL_FROM_NAME=InterHubDev

# Set to false to disable email sending (for testing)
MAIL_ENABLED=true
# Set to true to log emails instead of sending (for development)
MAIL_LOG_ONLY=false

# ===========================================
# Application Configuration
# ===========================================
# Base URL for links in emails (invitation links, etc.)
APP_BASE_URL=http://localhost:3000

# ===========================================
# Invitation Configuration
# ===========================================
# How long an invitation remains valid (default: 90 days)
INVITATION_EXPIRY_DAYS=90d
# How long a token in email link remains valid (default: 24 hours)
INVITATION_TOKEN_EXPIRY_HOURS=24h
# Maximum email send retry attempts (default: 3)
INVITATION_MAX_EMAIL_ATTEMPTS=3
# Delay between retry attempts in seconds (default: 60)
INVITATION_RETRY_DELAY=60

# ===========================================
# MinIO / S3 Storage Configuration
# ===========================================
# MinIO server endpoint (default: http://localhost:9000)
MINIO_ENDPOINT=http://localhost:9000
# MinIO access key (default: minioadmin)
MINIO_ACCESS_KEY=minioadmin
# MinIO secret key (default: minioadmin)
MINIO_SECRET_KEY=minioadmin
# MinIO bucket name for documents (will be created automatically)
MINIO_BUCKET_NAME=documents
# MinIO region (optional, default: us-east-1)
MINIO_REGION=us-east-1
# Preview URL expiration time in seconds (default: 3600 = 1 hour)
MINIO_PREVIEW_URL_EXPIRES_SECONDS=3600

# ===========================================
# ClamAV (antivirus) Configuration
# ===========================================
# ClamAV daemon host (use service name when running in Docker: clamav)
CLAMAV_HOST=localhost
# ClamAV daemon port (default: 3310)
CLAMAV_PORT=3310
# Socket timeout in milliseconds (default: 30000)
CLAMAV_TIMEOUT_MS=30000
# Set to true to enable antivirus scan (requires clamd running)
# Set to false when ClamAV is not available (e.g. local dev without Docker)
CLAMAV_ENABLED=false

# ===========================================
# Redis (OTP module, etc.)
# ===========================================
# When running app from IDE: use localhost (Redis in Docker)
# When app runs in Docker: use service name 'redis'
REDIS_HOST=localhost
REDIS_PORT=6379
# Leave empty when Redis has no password (typical for local dev)
REDIS_PASSWORD=
# Set to true for TLS (e.g. managed Redis in production)
REDIS_SSL_ENABLED=false
